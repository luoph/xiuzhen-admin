<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.youai.xiuzhen.game.mapper.GameChannelServerMapper">

    <select id="selectServerListByChannelId" resultType="cn.youai.xiuzhen.game.entity.GameServerVO">
        SELECT a.*
        FROM `game_server` a
                 INNER JOIN `game_channel_server` b ON a.`id` = b.`server_id`
        WHERE b.`channel_id` = #{channelId}
          AND b.`del_flag` = 0
          AND b.`no_need_count` = 0
        ORDER BY b.`position` DESC
    </select>

    <select id="selectServerList" resultType="cn.youai.xiuzhen.game.entity.GameServerVO">
        SELECT a.*
        FROM `game_server` a
                 INNER JOIN `game_channel_server` b ON a.`id` = b.`server_id`
                 INNER JOIN `game_channel` c ON b.`channel_id` = c.`id`
        WHERE c.`simple_name` = #{channel}
          AND b.`del_flag` = 0
          AND b.`no_need_count` = 0
        ORDER BY b.`position` DESC
    </select>

</mapper>